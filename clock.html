<!DOCTYPE html>
<html>
<head>
  <title>briankung.xyz - 阿公 clock</title>
</head>
<body>
  <svg viewBox="0 0 65 18" style="width: 100%;">
    <text id="clock" x="0" y="15" style="font-family: 'SimSun', sans-serif;"></text>
  </svg>
</body>
</html>

<script>
  const MILLISECONDS = 1000,
        ONE_SECOND = MILLISECONDS,
        ONE_MINUTE = MILLISECONDS * 60,
        clock = document.getElementById('clock');

  function setTime() {
    clock.textContent = (new Date).toLocaleString(
      'zh-CN',
      {
        hour: 'numeric',
        minute: 'numeric',
        hour12: true
      }
    );
  };

  setTime();

  window.setTimeout(
    () => window.setInterval(setTime, ONE_MINUTE),
    (ONE_MINUTE - ((new Date).getSeconds() * MILLISECONDS))
  )
</script>
